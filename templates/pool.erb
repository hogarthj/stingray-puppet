<% unless @weightings.class == NilClass then @weightings.each do |node,weight|-%>
<%="load_balancing!weighting!#{node} #{weight}"%>
<%end end-%>
<% unless @maxconns.class == NilClass -%><%="max_connections_pernode #{@maxconns}"%><%end-%>
<% unless @persistence.class == NilClass -%><%="persistence #{@persistence}"%><%end%>
<% unless @failure_pool.class == NilClass -%><%="failpool #{@failure_pool}"%><%end%>
<% unless @priority.class == NilClass -%>priority!values <%=@priority.class == Array ? @priority * " " : @priority%><%end-%>
nodes <% unless @nodes.class == NilClass -%><%=@nodes.class == Array ? @nodes * " " : @nodes.to_s %><%end%>
monitors <%= @monitors.class == Array ? "\"" + (@monitors * "\" \"") + "\"" : "\"" + @monitors + "\""%>
load_balancing!algorithm <%= @alg_code %>
disabled <%= @disabled.class == Array ? @disabled * " " : @disabled%>
draining <%= @draining.class == Array ? @draining * " " : @draining%>
<% if @bandwidth then -%>
bandwidth_class  <%= @bandwidth %>
<% end -%>
<% if @ssl_encrypt then -%>
ssl_encrypt    <%= @ssl_encrypt %>
<% end -%>
<% if @passive_monitoring then -%>
passive_monitoring      <%= @passive_monitoring %>
<% end -%>
<% if @transparent -%>
transparent <%= @transparent %>
<% end -%>
<% if @max_connect_time -%>
max_connect_time <%= @max_connect_time %>
<% end -%>
<% if @max_idle_connections_pernode -%>
max_idle_connections_pernode <%= @max_idle_connections_pernode %>
<% end -%>
<% if @node_so_nagle -%>
node_so_nagle <%= @node_so_nagle %>
<%end -%>
<% if @keepalive_non_idempotent -%>
keepalive!non_idempotent <%= @keepalive_non_idempotent %>
<% end -%>

